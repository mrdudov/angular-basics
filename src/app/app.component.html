<button (click)="runAnimation()">run animation</button>
<button (click)="boxState='special'">set special state</button>
<button (click)="visible = !visible">Toggle visiblility</button>

<hr>

<div class="wrap">
  
  <div 
    [@box]="boxState"
    *ngIf="visible"
    class="box"
    (@box.start)="animationStart($event)"
  >
  <h4>{{ boxState | uppercase }}</h4>
</div>

</div>
